2024-09-16 17:19:06.631 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:19:06.782 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:19:06.782 +03:00 [INF] Hosting environment: Development
2024-09-16 17:19:06.782 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:19:06.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger - null null
2024-09-16 17:19:07.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:19:07.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger - 301 null null 716.9174ms
2024-09-16 17:19:07.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 117.5054ms
2024-09-16 17:19:07.655 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/swagger-ui.css - null null
2024-09-16 17:19:07.655 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/swagger-ui-bundle.js - null null
2024-09-16 17:19:07.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/swagger-ui-standalone-preset.js - null null
2024-09-16 17:19:07.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:19:07.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.css - null null
2024-09-16 17:19:07.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:19:07.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:19:07.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 6.9903ms
2024-09-16 17:19:07.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 6.3324ms
2024-09-16 17:19:07.684 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-16 17:19:07.684 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-09-16 17:19:07.684 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-16 17:19:07.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.css - 200 202 text/css 25.9147ms
2024-09-16 17:19:07.686 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/swagger-ui.css - 200 152034 text/css 32.3481ms
2024-09-16 17:19:07.686 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-16 17:19:07.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/swagger-ui-standalone-preset.js - 200 230293 text/javascript 29.1463ms
2024-09-16 17:19:07.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/swagger-ui-bundle.js - 200 1452753 text/javascript 53.5071ms
2024-09-16 17:19:07.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.5622ms
2024-09-16 17:19:07.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:19:07.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/favicon-32x32.png - null null
2024-09-16 17:19:07.861 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-16 17:19:07.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/favicon-32x32.png - 200 628 image/png 1.9764ms
2024-09-16 17:19:07.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.7548ms
2024-09-16 17:20:09.233 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-16 17:20:09.261 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-16 17:20:09.262 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-16 17:20:09.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-16 17:20:09.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-16 17:20:09.278 +03:00 [INF] Applying migration '20240916141954_UpdateMigration1'.
2024-09-16 17:20:09.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240916141954_UpdateMigration1', N'8.0.8');
2024-09-16 17:41:49.732 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:41:49.859 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:41:49.863 +03:00 [INF] Hosting environment: Development
2024-09-16 17:41:49.863 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:41:49.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:41:50.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:41:50.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:41:50.112 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 225.5623ms
2024-09-16 17:41:50.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:41:50.125 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 4.4479ms
2024-09-16 17:41:50.133 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 21.1433ms
2024-09-16 17:41:50.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.816ms
2024-09-16 17:41:50.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:41:50.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.6123ms
2024-09-16 17:41:55.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/api/Users - null null
2024-09-16 17:41:55.450 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Get (MasterPeiceBackEnd)'
2024-09-16 17:41:55.463 +03:00 [INF] Route matched with {action = "Get", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:41:56.531 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserID], [u].[Address], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastName], [u].[MidName], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[UpdatedAt], [u].[UserImage], [u].[Username]
FROM [Users] AS [u]
2024-09-16 17:41:56.546 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-16 17:41:56.548 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Get (MasterPeiceBackEnd) in 1083.2889ms
2024-09-16 17:41:56.548 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Get (MasterPeiceBackEnd)'
2024-09-16 17:41:56.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/api/Users - 200 null null 1123.4008ms
2024-09-16 17:43:07.005 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:43:07.129 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:43:07.133 +03:00 [INF] Hosting environment: Development
2024-09-16 17:43:07.133 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:43:07.156 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:43:07.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 221.143ms
2024-09-16 17:43:07.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:43:07.380 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:43:07.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 4.016ms
2024-09-16 17:43:07.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:43:07.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 19.6986ms
2024-09-16 17:43:07.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.8758ms
2024-09-16 17:43:07.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:43:07.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.6137ms
2024-09-16 17:43:31.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/api/Users/ShowUserByID/2 - null null
2024-09-16 17:43:31.542 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.GetUserById (MasterPeiceBackEnd)'
2024-09-16 17:43:31.560 +03:00 [INF] Route matched with {action = "GetUserById", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUserById(Int32) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:43:32.560 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Address], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastName], [u].[MidName], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[UpdatedAt], [u].[UserImage], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2024-09-16 17:43:32.571 +03:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-09-16 17:43:32.573 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.GetUserById (MasterPeiceBackEnd) in 1011.4755ms
2024-09-16 17:43:32.573 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.GetUserById (MasterPeiceBackEnd)'
2024-09-16 17:43:32.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/api/Users/ShowUserByID/2 - 204 null null 1062.1809ms
2024-09-16 17:50:33.640 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:50:33.779 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:50:33.780 +03:00 [INF] Hosting environment: Development
2024-09-16 17:50:33.780 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:50:33.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:50:34.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 251.5798ms
2024-09-16 17:50:40.654 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:50:40.779 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:50:40.780 +03:00 [INF] Hosting environment: Development
2024-09-16 17:50:40.780 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:50:40.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:50:41.032 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 228.6904ms
2024-09-16 17:50:41.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:50:41.038 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:50:41.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:50:41.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 5.4192ms
2024-09-16 17:50:41.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 8.946ms
2024-09-16 17:50:41.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9129ms
2024-09-16 17:50:41.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:50:41.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.4633ms
2024-09-16 17:51:43.911 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundary0zau7qWGFAweVhlA 140420
2024-09-16 17:51:43.943 +03:00 [INF] CORS policy execution successful.
2024-09-16 17:51:43.945 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:51:43.961 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:51:44.107 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd) in 140.2201ms
2024-09-16 17:51:44.108 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:51:44.110 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'MasterPeiceBackEnd.Controllers.UsersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method4(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 17:51:44.139 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - 500 null text/plain; charset=utf-8 227.6214ms
2024-09-16 17:53:46.084 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:53:46.253 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:53:46.257 +03:00 [INF] Hosting environment: Development
2024-09-16 17:53:46.257 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:53:46.282 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:53:46.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:53:46.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:53:46.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:53:46.490 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 204.5937ms
2024-09-16 17:53:46.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 5.4326ms
2024-09-16 17:53:46.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 6.7754ms
2024-09-16 17:53:46.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.238ms
2024-09-16 17:53:46.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:53:46.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.7233ms
2024-09-16 17:54:30.022 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundarySiRXFbFvqK0BgeGR 140417
2024-09-16 17:54:30.077 +03:00 [INF] CORS policy execution successful.
2024-09-16 17:54:30.079 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:54:30.102 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:54:30.272 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd) in 164.6418ms
2024-09-16 17:54:30.272 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:54:30.274 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'MasterPeiceBackEnd.Controllers.UsersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method4(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 17:54:30.305 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - 500 null text/plain; charset=utf-8 283.7631ms
2024-09-16 17:55:04.185 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:55:04.346 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:55:04.347 +03:00 [INF] Hosting environment: Development
2024-09-16 17:55:04.347 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:55:04.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:55:04.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:55:04.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:55:04.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:55:04.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 276.499ms
2024-09-16 17:55:04.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 10.59ms
2024-09-16 17:55:04.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 16.4879ms
2024-09-16 17:55:04.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.2477ms
2024-09-16 17:55:04.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:55:04.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.3482ms
2024-09-16 17:55:16.444 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundary2PCOyUPdv9aYSGVc 140401
2024-09-16 17:55:16.469 +03:00 [INF] CORS policy execution successful.
2024-09-16 17:55:16.472 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:55:16.492 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:55:16.632 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd) in 136.1623ms
2024-09-16 17:55:16.633 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:55:16.635 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'MasterPeiceBackEnd.Controllers.UsersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method4(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 17:55:16.657 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - 500 null text/plain; charset=utf-8 213.2269ms
2024-09-16 17:55:54.793 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:55:54.912 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:55:54.913 +03:00 [INF] Hosting environment: Development
2024-09-16 17:55:54.913 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:55:54.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:55:55.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:55:55.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:55:55.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 225.5399ms
2024-09-16 17:55:55.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:55:55.169 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 10.227ms
2024-09-16 17:55:55.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 20.2198ms
2024-09-16 17:55:55.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2478ms
2024-09-16 17:55:55.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:55:55.435 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.9982ms
2024-09-16 17:56:11.168 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundaryEMr8qErd2thQcOAn 140401
2024-09-16 17:56:11.188 +03:00 [INF] CORS policy execution successful.
2024-09-16 17:56:11.190 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:56:11.207 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:56:28.720 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:56:28.852 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:56:28.853 +03:00 [INF] Hosting environment: Development
2024-09-16 17:56:28.855 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:56:28.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:56:29.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 284.2635ms
2024-09-16 17:56:29.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:56:29.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:56:29.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:56:29.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 9.4781ms
2024-09-16 17:56:29.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 7.7002ms
2024-09-16 17:56:29.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.0353ms
2024-09-16 17:56:29.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:56:29.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.8212ms
2024-09-16 17:57:07.263 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundaryCOeXAw9hajYempt4 140418
2024-09-16 17:57:07.289 +03:00 [INF] CORS policy execution successful.
2024-09-16 17:57:07.290 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:57:07.306 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 17:57:34.725 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 255), @p7='?' (Size = 8000) (DbType = Binary), @p8='?' (Size = 8000) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 4000), @p13='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [CreatedAt], [Email], [FirstName], [LastName], [MidName], [Password], [PasswordHash], [PasswordSalt], [PhoneNumber], [Role], [UpdatedAt], [UserImage], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-09-16 17:57:34.755 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'MasterPieceBackEnd.Model.MedicalAppContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'MedicalApp.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:3ad21065-e0b9-44d0-b614-a7bdfec2bd7c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'MedicalApp.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:3ad21065-e0b9-44d0-b614-a7bdfec2bd7c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-09-16 17:57:42.303 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd) in 34995.2094ms
2024-09-16 17:57:42.304 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 17:57:42.306 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Role', table 'MedicalApp.dbo.Users'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:3ad21065-e0b9-44d0-b614-a7bdfec2bd7c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at MasterPeiceBackEnd.Controllers.UsersController.Register(UserRegisterDTO user) in C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd\Controllers\UsersController.cs:line 72
   at lambda_method3(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-16 17:57:42.327 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - 500 null text/plain; charset=utf-8 35063.9177ms
2024-09-16 17:58:45.930 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 17:58:46.152 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 17:58:46.157 +03:00 [INF] Hosting environment: Development
2024-09-16 17:58:46.157 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 17:58:46.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 17:58:46.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 221.3125ms
2024-09-16 17:58:46.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 17:58:46.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 17:58:46.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 17:58:46.415 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 12.796ms
2024-09-16 17:58:46.424 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 21.2146ms
2024-09-16 17:58:46.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.5152ms
2024-09-16 17:58:46.477 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 17:58:46.568 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.2409ms
2024-09-16 17:59:54.853 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-16 17:59:54.886 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-16 17:59:54.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-16 17:59:54.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-16 17:59:54.896 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-16 17:59:54.904 +03:00 [INF] Applying migration '20240916145942_UpdateUserTable'.
2024-09-16 17:59:54.994 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Role');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Users] ALTER COLUMN [Role] nvarchar(max) NULL;
2024-09-16 17:59:54.996 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240916145942_UpdateUserTable', N'8.0.8');
2024-09-16 18:00:12.006 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 18:00:12.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 18:00:12.147 +03:00 [INF] Hosting environment: Development
2024-09-16 18:00:12.147 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 18:00:12.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 18:00:12.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 198.8866ms
2024-09-16 18:00:12.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 18:00:12.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 11.3284ms
2024-09-16 18:00:12.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 18:00:12.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 18:00:12.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 6.0638ms
2024-09-16 18:00:12.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.4392ms
2024-09-16 18:00:12.549 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 18:00:12.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.1932ms
2024-09-16 18:01:12.829 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundary86n5LUa5nZ2Kvke1 140417
2024-09-16 18:01:12.886 +03:00 [INF] CORS policy execution successful.
2024-09-16 18:01:12.890 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 18:01:12.914 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 18:01:30.579 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 255), @p7='?' (Size = 8000) (DbType = Binary), @p8='?' (Size = 8000) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 4000), @p13='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [CreatedAt], [Email], [FirstName], [LastName], [MidName], [Password], [PasswordHash], [PasswordSalt], [PhoneNumber], [Role], [UpdatedAt], [UserImage], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-09-16 18:01:32.263 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[MasterPieceBackEnd.Model.User, MasterPeiceBackEnd, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 18:01:32.308 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd) in 19392.5736ms
2024-09-16 18:01:32.309 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 18:01:32.318 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - 200 null application/json; charset=utf-8 19489.4487ms
2024-09-16 18:10:17.495 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 18:10:17.630 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 18:10:17.634 +03:00 [INF] Hosting environment: Development
2024-09-16 18:10:17.634 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 18:10:17.659 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 18:10:17.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 208.357ms
2024-09-16 18:10:17.868 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 18:10:17.868 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 18:10:17.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 18:10:17.883 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 9.2342ms
2024-09-16 18:10:17.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 15.4666ms
2024-09-16 18:10:17.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.3942ms
2024-09-16 18:10:17.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 18:10:18.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.0025ms
2024-09-16 18:10:26.946 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 18:10:27.058 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 18:10:27.061 +03:00 [INF] Hosting environment: Development
2024-09-16 18:10:27.061 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 18:10:27.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 18:10:27.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 232.7428ms
2024-09-16 18:10:27.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 18:10:27.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 18:10:27.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 18:10:27.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 14.0224ms
2024-09-16 18:10:27.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 16.3056ms
2024-09-16 18:10:27.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.2907ms
2024-09-16 18:10:27.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 18:10:27.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.5ms
2024-09-16 18:10:50.455 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/LoginUsers - multipart/form-data; boundary=----WebKitFormBoundaryhlshMApSTwxpMXtF 252
2024-09-16 18:10:50.498 +03:00 [INF] CORS policy execution successful.
2024-09-16 18:10:50.501 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Login (MasterPeiceBackEnd)'
2024-09-16 18:10:50.521 +03:00 [INF] Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(MasterPeiceBackEnd.DTOs.UserLoginDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 18:10:59.137 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Address], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastName], [u].[MidName], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[UpdatedAt], [u].[UserImage], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__user_Email_0
2024-09-16 18:11:19.545 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[MasterPieceBackEnd.Model.User, MasterPeiceBackEnd, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 18:11:19.580 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Login (MasterPeiceBackEnd) in 29056.3168ms
2024-09-16 18:11:19.580 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Login (MasterPeiceBackEnd)'
2024-09-16 18:11:19.584 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/LoginUsers - 200 null application/json; charset=utf-8 29129.1285ms
2024-09-16 22:18:08.468 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 22:18:08.638 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 22:18:08.638 +03:00 [INF] Hosting environment: Development
2024-09-16 22:18:08.638 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 22:18:08.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 22:18:09.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 22:18:09.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 22:18:09.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 770.3628ms
2024-09-16 22:18:09.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 22:18:09.497 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 12.7292ms
2024-09-16 22:18:09.497 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 40.075ms
2024-09-16 22:18:09.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.6925ms
2024-09-16 22:18:09.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 22:18:09.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.0532ms
2024-09-16 22:18:23.705 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/send - multipart/form-data; boundary=----WebKitFormBoundarySkYJlqRqKq5KYLh2 162
2024-09-16 22:18:23.736 +03:00 [INF] CORS policy execution successful.
2024-09-16 22:18:23.738 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.SendEmail (MasterPeiceBackEnd)'
2024-09-16 22:18:23.780 +03:00 [INF] Route matched with {action = "SendEmail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmail(MasterPeiceBackEnd.DTOs.EmailRequest) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 22:18:25.448 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__request_ToEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Address], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastName], [u].[MidName], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[UpdatedAt], [u].[UserImage], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_ToEmail_0
2024-09-16 22:18:25.467 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-16 22:18:25.517 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.SendEmail (MasterPeiceBackEnd) in 1732.2706ms
2024-09-16 22:18:25.517 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.SendEmail (MasterPeiceBackEnd)'
2024-09-16 22:18:25.523 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/send - 404 null application/problem+json; charset=utf-8 1818.7054ms
2024-09-16 22:20:21.273 +03:00 [INF] User profile is available. Using 'C:\Users\Orange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-16 22:20:21.393 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 22:20:21.394 +03:00 [INF] Hosting environment: Development
2024-09-16 22:20:21.394 +03:00 [INF] Content root path: C:\Users\Orange\Desktop\MasterPeiceBackEnd\MasterPeiceBackEnd
2024-09-16 22:20:21.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.html - null null
2024-09-16 22:20:21.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_vs/browserLink - null null
2024-09-16 22:20:21.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - null null
2024-09-16 22:20:21.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/index.js - null null
2024-09-16 22:20:21.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.html - 200 null text/html;charset=utf-8 224.8616ms
2024-09-16 22:20:21.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 5.6746ms
2024-09-16 22:20:21.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/index.js - 200 null application/javascript;charset=utf-8 16.2812ms
2024-09-16 22:20:21.682 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8091ms
2024-09-16 22:20:21.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - null null
2024-09-16 22:20:21.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44364/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.916ms
2024-09-16 22:21:03.667 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - multipart/form-data; boundary=----WebKitFormBoundaryBMWB8NsxNge6RJMQ 140420
2024-09-16 22:21:03.706 +03:00 [INF] CORS policy execution successful.
2024-09-16 22:21:03.709 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 22:21:03.735 +03:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(MasterPeiceBackEnd.DTOs.UserRegisterDTO) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 22:21:13.992 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 255), @p7='?' (Size = 8000) (DbType = Binary), @p8='?' (Size = 8000) (DbType = Binary), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 4000), @p13='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [CreatedAt], [Email], [FirstName], [LastName], [MidName], [Password], [PasswordHash], [PasswordSalt], [PhoneNumber], [Role], [UpdatedAt], [UserImage], [Username])
OUTPUT INSERTED.[UserID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-09-16 22:21:15.599 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[MasterPieceBackEnd.Model.User, MasterPeiceBackEnd, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 22:21:15.642 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd) in 11902.6841ms
2024-09-16 22:21:15.642 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.Register (MasterPeiceBackEnd)'
2024-09-16 22:21:15.649 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/RegisterUsers - 200 null application/json; charset=utf-8 11982.6993ms
2024-09-16 22:21:35.395 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/send - multipart/form-data; boundary=----WebKitFormBoundaryfgDeuF06Bec2kB2S 162
2024-09-16 22:21:35.404 +03:00 [INF] CORS policy execution successful.
2024-09-16 22:21:35.404 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.SendEmail (MasterPeiceBackEnd)'
2024-09-16 22:21:35.411 +03:00 [INF] Route matched with {action = "SendEmail", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmail(MasterPeiceBackEnd.DTOs.EmailRequest) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 22:21:35.718 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_ToEmail_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Address], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastName], [u].[MidName], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[UpdatedAt], [u].[UserImage], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_ToEmail_0
2024-09-16 22:21:35.801 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Password] = @p0
OUTPUT 1
WHERE [UserID] = @p1;
2024-09-16 22:21:37.938 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-16 22:21:37.945 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.SendEmail (MasterPeiceBackEnd) in 2534.12ms
2024-09-16 22:21:37.945 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.SendEmail (MasterPeiceBackEnd)'
2024-09-16 22:21:37.946 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/send - 200 null application/json; charset=utf-8 2551.2266ms
2024-09-16 22:23:19.308 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44364/api/Users/GetOTP/3 - multipart/form-data; boundary=----WebKitFormBoundaryPlIv0UAKbyUaEuAX 140
2024-09-16 22:23:19.309 +03:00 [INF] CORS policy execution successful.
2024-09-16 22:23:19.309 +03:00 [INF] Executing endpoint 'MasterPeiceBackEnd.Controllers.UsersController.GetOtp (MasterPeiceBackEnd)'
2024-09-16 22:23:19.327 +03:00 [INF] Route matched with {action = "GetOtp", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetOtp(MasterPeiceBackEnd.DTOs.OTPDTO, Int32) on controller MasterPeiceBackEnd.Controllers.UsersController (MasterPeiceBackEnd).
2024-09-16 22:23:19.364 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserID], [u].[Address], [u].[CreatedAt], [u].[Email], [u].[FirstName], [u].[LastName], [u].[MidName], [u].[Password], [u].[PasswordHash], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[UpdatedAt], [u].[UserImage], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserID] = @__p_0
2024-09-16 22:23:19.366 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-16 22:23:19.366 +03:00 [INF] Executed action MasterPeiceBackEnd.Controllers.UsersController.GetOtp (MasterPeiceBackEnd) in 39.6424ms
2024-09-16 22:23:19.367 +03:00 [INF] Executed endpoint 'MasterPeiceBackEnd.Controllers.UsersController.GetOtp (MasterPeiceBackEnd)'
2024-09-16 22:23:19.367 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44364/api/Users/GetOTP/3 - 200 null null 59.1636ms
